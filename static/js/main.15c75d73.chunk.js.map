{"version":3,"sources":["strings.js","components/spinner/index.js","components/toast/index.js","cookie/index.js","auth/index.js","api/index.js","pages/login/index.js","components/mainMenu/index.js","components/header/index.js","components/pageMenu/index.js","pages/home/index.js","components/form/index.js","components/input/index.js","pages/test/index.js","components/titleBar/index.js","pages/newContact/index.js","components/modal/index.js","components/checkbox/index.js","pages/attendance/listItem/index.js","pages/attendance/index.js","pages/contacts/index.js","App.js","index.js"],"names":["String","prototype","standardizeName","str","this","parts","replaceAll","replace","trim","split","length","push","shift","join","toTitleCase","toCamelCase","toLowerCase","$1","toUpperCase","txt","charAt","substr","SpinnerCtl","show","hide","f","Spinner","props","useState","setShow","self","useEffect","ctl","setShowFunc","bind","setHideFunc","className","style","width","size","height","ToastCtl","Toast","text","setText","timerId","useRef","t","current","clearTimeout","setTimeout","cookie","set","cname","cvalue","exdays","key","d","Date","setTime","getTime","expires","toUTCString","document","get","name","ca","i","c","substring","indexOf","clear","forEach","auth","phone","role","redirect","url","cookiesPresent","window","open","location","pathname","API","endpoint","body","a","fetch","method","headers","JSON","stringify","res","json","then","r","status","error","md5","require","spinner","toast","Login","submitState","setSubmitState","loginPhone","loginPass","id","src","ref","type","placeholder","pattern","disabled","onClick","e","preventDefault","call","value","password","MainMenuCtl","MainMenu","list","map","l","mainMenu","Header","onPageMenuClick","PageMenuCtl","position","PageMenu","right","top","setPosition","setPositionFunc","pageMenu","Home","Form","children","Input","label","onBlur","maxLength","onChange","defaultValue","maxlength","Test","TitleBar","title","NewContact","getElementById","target","Modal","onClose","class","CheckBoxCtl","setGetChecks","CheckBox","console","log","selIndex","setSelIndex","checked","setChecked","onChangeInt","ListItem","level","parent","events","showOptions","setShowOptions","checkBoxCtl","useLongPress","navigator","vibrate","parentList","parentLevelAffinity","eventLevelAffinity","filter","backgroundColor","attendance","Attendance","people","setPeople","peopleList","setPeopleList","date","setEvents","moment","format","getEventsOnDate","searchKey","setSearchKey","p","includes","Contacts","App","path","element","ok","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.15c75d73.chunk.js","sourcesContent":["String.prototype.standardizeName = function(){\r\n    var str = this\r\n    str = str.replaceAll('.', ' ')\r\n    str = str.replace(/  +/g, ' ')\r\n    str = str.trim()\r\n    var parts = str.split(\" \")\r\n    if(parts.length!=str.replaceAll(\" \",\"\").length){\r\n      while(parts[0].length==1){\r\n        parts.push(parts.shift())\r\n      }\r\n    }\r\n    str=parts.join(\" \")\r\n    return str.toTitleCase()\r\n}\r\n\r\nString.prototype.toCamelCase = function() {\r\n    return this.toLowerCase()\r\n      .replace( /['\"]/g, '' )\r\n      .replace( /\\W+/g, ' ' )\r\n      .replace( / (.)/g, function($1) { return $1.toUpperCase(); })\r\n      .replace( / /g, '' );\r\n  }\r\n  \r\n  String.prototype.toTitleCase = function() {\r\n    return this.replace(\r\n      /\\w\\S*/g,\r\n      function(txt) {\r\n        return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\r\n      }\r\n    );\r\n  }","import { useState, useEffect } from 'react';\r\nimport './index.css';\r\n\r\nclass SpinnerCtl {\r\n  constructor(){\r\n    this.show = ()=>{}\r\n    this.hide = ()=>{}\r\n  }\r\n  setShowFunc(f){\r\n    this.show=f\r\n  }\r\n  setHideFunc(f){\r\n    this.hide=f\r\n  }\r\n}\r\n\r\nfunction Spinner(props) {\r\n\r\n  var [show, setShow] = useState(props.show)\r\n  const self = this\r\n  useEffect(()=>{\r\n    props.ctl.setShowFunc(()=>{setShow.bind(self)(true)})\r\n    props.ctl.setHideFunc(()=>{setShow.bind(self)(false)})\r\n  },[])\r\n\r\n  return (\r\n    <div\r\n      className={`spinner-bg-circle ${show?\"spinner-show\":\"spinner-hide\"}`}\r\n      style={{width:`${props.size||20}px`, height:`${props.size||20}px`}}>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { Spinner, SpinnerCtl };\r\n","import { useState, useEffect, useRef } from 'react';\r\nimport './index.css';\r\n\r\nclass ToastCtl {\r\n  constructor(){\r\n    this.show=()=>{}\r\n    this.hide=()=>{}\r\n  }\r\n  setShowFunc(f){\r\n    this.show=f\r\n  }\r\n  setHideFunc(f){\r\n    this.hide=f\r\n  }\r\n}\r\n\r\nfunction Toast(props) {\r\n\r\n  var [show, setShow] = useState(!!props.show)\r\n  var [text, setText] = useState(props.text||\"\")\r\n  var timerId = useRef(null)\r\n\r\n  const clearTimer = ()=>{\r\n    if(timerId.current){\r\n      clearTimeout(timerId.current)\r\n    }\r\n  }\r\n\r\n  const autoHide = ()=>{\r\n    timerId.current = setTimeout(()=>{\r\n      setShow(false)\r\n    }, 5000)\r\n  }\r\n\r\n  var self = this\r\n  useEffect(()=>{\r\n    props.ctl.setShowFunc((t)=>{\r\n      clearTimer()\r\n      setText.bind(self)(t)\r\n      setShow.bind(self)(true)\r\n      autoHide()\r\n    })\r\n    props.ctl.setHideFunc(()=>{setShow.bind(self)(false)})\r\n  },[])\r\n   \r\n  return (\r\n    <div className={`toast toast-${show?\"show\":\"hide\"}`}>\r\n      {text}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { Toast, ToastCtl };\r\n","function set(cname, cvalue, exdays) {\r\n    if(typeof(cname)===\"object\"){\r\n      for(var key in cname){\r\n        set(key, cname[key])\r\n      }\r\n    }else{\r\n      var d = new Date();\r\n      exdays = exdays || 999\r\n      d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));\r\n      var expires = \";expires=\"+d.toUTCString();\r\n      document.cookie = cname + \"=\" + cvalue + expires;\r\n    }\r\n  }\r\n  \r\n  function get(cname) {\r\n    var name = cname + \"=\";\r\n    var ca = document.cookie.split(';');\r\n    for(var i = 0; i < ca.length; i++) {\r\n      var c = ca[i];\r\n      while (c.charAt(0) === ' ') {\r\n        c = c.substring(1);\r\n      }\r\n      if (c.indexOf(name) === 0) {\r\n        return c.substring(name.length, c.length);\r\n      }\r\n    }\r\n    return \"\";\r\n  }\r\n\r\n  function clear(cname){\r\n    if(!cname){\r\n      document.cookie.split(\";\").forEach(function(c) { document.cookie = c.replace(/^ +/, \"\").replace(/=.*/, \"=;expires=\" + new Date().toUTCString() + \";path=/\"); });\r\n    }else{\r\n      document.cookie = cname + \"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;\";\r\n    }\r\n  }\r\n\r\n\r\n\r\nvar cookie = {\r\n    set,\r\n    get,\r\n    clear\r\n}\r\n\r\nexport default cookie","import cookie from \"../cookie\"\r\n\r\nconst auth = {\r\n    name: cookie.get(\"name\"),\r\n    phone: cookie.get(\"phone\"),\r\n    role: cookie.get(\"role\"),\r\n    redirect: (url)=>{\r\n        const cookiesPresent =  cookie.get(\"phone\") \r\n        if (url){\r\n            if(cookiesPresent){\r\n                window.open(url,\"_self\")\r\n            }else{\r\n                return\r\n            }\r\n        }else{\r\n            if(cookiesPresent){\r\n                return\r\n            }else{\r\n                window.open(`/?redirect=${window.location.pathname}`,\"_self\")\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport default auth\r\n\r\n\r\n\r\n","import auth from \"../auth\"\r\n\r\nclass API {\r\n    constructor(){\r\n        this.name = auth.name\r\n        this.phone = auth.phone\r\n        this.role = auth.role\r\n    }\r\n   \r\n    async call(endpoint, body){\r\n        const res = await fetch('/data', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                name: this.name,\r\n                phone: this.phone,\r\n                role: this.role,\r\n                endpoint\r\n            },\r\n            body: JSON.stringify(body||{}),\r\n        })\r\n\r\n        return res.json().then((r)=>{\r\n            return {\r\n                status: res.status,\r\n                body: r,\r\n                error: r.error\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\n\r\nexport default API","import './index.css';\r\nimport {Spinner, SpinnerCtl} from '../../components/spinner';\r\nimport {useState, useRef, useEffect} from 'react'\r\nimport {Toast, ToastCtl} from '../../components/toast';\r\nimport API from '../../api';\r\nimport cookie from '../../cookie';\r\nimport auth from '../../auth';\r\nconst md5 = require(\"md5\")\r\n\r\nvar spinner = new SpinnerCtl()\r\nvar toast = new ToastCtl()\r\n\r\nfunction Login() {\r\n\r\n  useEffect(()=>{auth.redirect(\"/home\")},[])\r\n  var [submitState, setSubmitState] = useState(false)\r\n  const loginPhone = useRef(null)\r\n  const loginPass = useRef(null)\r\n\r\n  const onLogin = (e)=>{\r\n    e.preventDefault()\r\n    setSubmitState(true)\r\n    spinner.show()\r\n\r\n    new API().call(\"/login\",{\r\n      phone: loginPhone.current.value,\r\n      password: md5(loginPass.current.value)\r\n    }).then((res)=>{\r\n      spinner.hide()\r\n      setSubmitState(false)\r\n      if(res.status==200){\r\n        for(var key in res.body){\r\n          cookie.set(key, res.body[key])\r\n        }\r\n        window.open(\"/home\",\"_self\")\r\n      }else{\r\n        toast.show(res.error)\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n  return (\r\n    <div id=\"login-root\">\r\n          <Toast ctl={toast}/>\r\n          <img id='login-logo' src=\"logo.png\"/>\r\n          <form id='login-form'>\r\n              <input ref={loginPhone} type=\"tel\" placeholder='Phone' pattern=\"[0-9]{10}\"></input>\r\n              <input ref={loginPass} type='password' placeholder='Password'></input>\r\n              <button className='clickable' disabled={submitState} onClick={onLogin}>Login</button>\r\n              <div className='login-spinner'><Spinner show={submitState} size={25} ctl={spinner}/></div>\r\n          </form>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n\r\nexport default Login;\r\n","import './index.css';\r\nimport {useEffect, useState} from 'react'\r\nimport cookie from '../../cookie';\r\n\r\nclass MainMenuCtl {\r\n\r\n  constructor(){\r\n    this.show = ()=>{} \r\n    this.hide = ()=>{}\r\n  }\r\n\r\n  setShowFunc(f){\r\n    this.show=f\r\n  }\r\n  setHideFunc(f){\r\n    this.hide=f\r\n  }\r\n}\r\n\r\n\r\nfunction MainMenu(props) {\r\n  const {list, ctl} = props\r\n  var [show, setShow]=useState(false)\r\n  var self = this\r\n\r\n  useEffect(()=>{\r\n    ctl.setShowFunc(()=>{\r\n      setShow.bind(self)(true)\r\n    })\r\n    ctl.setHideFunc(()=>{\r\n      setShow.bind(self)(false)\r\n    })\r\n  },[])\r\n\r\n  return (\r\n    <div>\r\n      \r\n      <div className='mainMenu' id={show?'show':'hide'}>\r\n          <div className='mainMenuProfile'>\r\n            <div className='mainMenuProfileAvatar'>{cookie.get('name').charAt(0).toUpperCase()}</div>\r\n            <div className='mainMenuProfileName'>{cookie.get('name')}</div>\r\n          </div>\r\n          {\r\n            list.map((l)=>{\r\n              return <div className='mainMenuItem clickable'>{l}</div>\r\n            })\r\n          }\r\n      </div>\r\n\r\n      {show?<div className='glass' onClick={()=>{\r\n        setShow.bind(self)(false)}}/>:null\r\n      }\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport  {MainMenu, MainMenuCtl};\r\n","import { MainMenu, MainMenuCtl } from '../mainMenu';\r\nimport './index.css';\r\n\r\nvar mainMenu = new MainMenuCtl()\r\n\r\nfunction Header(props) {\r\n  var {onPageMenuClick} = props\r\n  return (\r\n    <div>\r\n        <MainMenu ctl={mainMenu} list={[1,2,3,4]}/>\r\n        <div className=\"appHeader\">\r\n          <i className=\"bi bi-list clickable clickableIcon\" id=\"slideMenuButton\" onClick={()=>{mainMenu.show()}}></i>\r\n          <img src=\"/logo.png\" className=\"header_logo\"/>\r\n          <i className=\"bi bi-three-dots-vertical clickable clickableIcon\" id=\"menuButton\" onClick={onPageMenuClick}></i>\r\n        </div>\r\n    </div>\r\n\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import './index.css';\r\nimport {useEffect, useState} from 'react'\r\n\r\nclass PageMenuCtl {\r\n\r\n  constructor(){\r\n    this.show = ()=>{} \r\n    this.hide = ()=>{}\r\n    this.position = ()=>{}\r\n  }\r\n\r\n  setShowFunc(f){\r\n    this.show=f\r\n  }\r\n  setHideFunc(f){\r\n    this.hide=f\r\n  }\r\n  setPositionFunc(f){\r\n    this.position=f\r\n  }\r\n}\r\n\r\n\r\nfunction PageMenu(props) {\r\n  const {list, ctl} = props\r\n  var [show, setShow]=useState(false)\r\n  var [position, setPosition]=useState({right:'0px', top: '0px'})\r\n  var self = this\r\n\r\n  useEffect(()=>{\r\n    ctl.setShowFunc(()=>{\r\n      setShow.bind(self)(true)\r\n    })\r\n    ctl.setHideFunc(()=>{\r\n      setShow.bind(self)(false)\r\n    })\r\n    ctl.setPositionFunc((right,top)=>{\r\n      setPosition.bind(self)({right, top})\r\n    })\r\n  },[])\r\n\r\n  return (\r\n    <div>\r\n      \r\n      <div className='pageMenu' id={show?'show':'hide'} style={position||{}}>\r\n          {\r\n            list.map((l)=>{\r\n              return <div className='pageMenuItem clickable'>{l}</div>\r\n            })\r\n          }\r\n      </div>\r\n\r\n      {show?<div className='glass' onClick={()=>{\r\n        setShow.bind(self)(false)}}/>:null\r\n      }\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport  {PageMenu, PageMenuCtl};\r\n","import './index.css';\r\nimport Header from \"../../components/header\"\r\nimport {PageMenu, PageMenuCtl} from '../../components/pageMenu';\r\nimport { useEffect } from 'react';\r\n\r\nvar pageMenu = new PageMenuCtl()\r\n\r\nfunction Home() {\r\n\r\n  return (\r\n    <div>\r\n      <Header onPageMenuClick={()=>{\r\n        pageMenu.position('.5vw','6.5vh')\r\n        pageMenu.show()\r\n      }}/>\r\n      <PageMenu list={[1,2,3,4]} ctl={pageMenu}/>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import { useState, useEffect } from 'react';\r\nimport './index.css';\r\n\r\nclass FormCtl {\r\n  constructor(){\r\n  }\r\n  setwFunc(f){\r\n  }\r\n}\r\n\r\nfunction Form(props) {\r\n\r\n  var {children} = props\r\n\r\n  return(\r\n    <form>\r\n      {children}\r\n    </form>\r\n  )\r\n}\r\n\r\nexport { Form, FormCtl };\r\n","import { useState, useEffect } from 'react';\r\nimport './index.css';\r\n\r\nclass InputCtl {\r\n  constructor(){\r\n  }\r\n  setwFunc(f){\r\n  }\r\n}\r\n\r\nfunction Input(props) {\r\n\r\n  var {id, type, label, placeholder, onBlur, maxLength, onChange, defaultValue, children} = props\r\n\r\n  return(\r\n    <div>\r\n      <div>{label}</div>\r\n      <div>\r\n        <input\r\n          id={id||label.toCamelCase()}\r\n          type={type||\"text\"}\r\n          defaultValue={defaultValue}\r\n          maxlength={maxLength}\r\n          placeholder={placeholder}\r\n          onBlur={onBlur}\r\n          onChange={onChange}/>\r\n          <div className='inputAuto'>\r\n    \t      {children}\r\n          </div>\r\n      </div>\r\n\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport { Input, InputCtl };\r\n","import './index.css';\r\nimport Header from \"../../components/header\"\r\nimport {Form} from \"../../components/form\"\r\nimport {Input} from \"../../components/input\"\r\nimport {PageMenu, PageMenuCtl} from '../../components/pageMenu';\r\n\r\nvar pageMenu = new PageMenuCtl()\r\n\r\nfunction Test() {\r\n\r\n  return (\r\n    <div>\r\n      <Header onPageMenuClick={()=>{\r\n        pageMenu.position('.5vw','6.5vh')\r\n        pageMenu.show()\r\n      }}/>\r\n      <PageMenu list={[1,2,3,4]} ctl={pageMenu}/>\r\n\r\n      <Form>\r\n        <Input label=\"Name\"/>\r\n      </Form>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Test;\r\n","import './index.css';\r\n\r\nfunction TitleBar(props) {\r\n  const {title, children} = props\r\n  return (\r\n    <div className=\"titlebar\">\r\n      <div className='titlebar_title'>{title}</div>\r\n      <div className='titlebarChildren'>\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TitleBar;\r\n","import './index.css';\r\nimport Header from \"../../components/header\"\r\nimport {Form} from \"../../components/form\"\r\nimport {Input} from \"../../components/input\"\r\nimport {PageMenu, PageMenuCtl} from '../../components/pageMenu';\r\nimport TitleBar from \"../../components/titleBar\"\r\nimport { useParams } from 'react-router';\r\n\r\nvar pageMenu = new PageMenuCtl()\r\n\r\nfunction NewContact() {\r\n\r\n  var openWhatsApp = ()=>{\r\n    var phone = document.getElementById('phone').value\r\n    window.open(`https://wa.me/91${phone}`)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Header onPageMenuClick={()=>{\r\n        pageMenu.position('.5vw','6.5vh')\r\n        pageMenu.show()\r\n      }}/>\r\n\r\n      <TitleBar title='Contact'>\r\n        <i className='bi bi-whatsapp' onClick={openWhatsApp}></i>\r\n        <i className='bi bi-download'></i>\r\n      </TitleBar>\r\n\r\n      <PageMenu list={[1,2,3,4]} ctl={pageMenu}/>\r\n\r\n      <Form>\r\n        <Input label=\"Name\" onBlur={(e)=>{\r\n          e.target.value=e.target.value.standardizeName()\r\n        }}/>\r\n        <Input label=\"Phone\" type=\"tel\" maxLength={10}/>\r\n        <button type=\"submit\" maxLength={10} onClick={(e)=>{\r\n          e.preventDefault()}}>Save</button>\r\n      </Form>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n\r\n\r\nexport default NewContact;\r\n","import { useState, useEffect, useRef } from 'react';\r\nimport './index.css';\r\n\r\nfunction Modal(props) {\r\n  var self = this\r\n\r\n  var {title, children, onClose} = props\r\n  useEffect(()=>{\r\n  },[])\r\n   \r\n  return (\r\n    <div>\r\n      <div className=\"glass dark-glass\"/>\r\n      <div className='modalBox'>\r\n        <div className='modalTitle'>\r\n          <div className='modalTitleItems'>\r\n            <span>{title}</span>\r\n            <i class=\"bi bi-x-square-fill\" onClick={onClose}></i>\r\n          </div>\r\n        </div>\r\n        <div className='modalBody'>{children}</div>\r\n      </div>\r\n    </div>\r\n\r\n  );\r\n}\r\n\r\nexport default Modal\r\n","import { useState, useEffect, useRef } from 'react';\r\nimport './index.css';\r\n\r\n\r\nclass CheckBoxCtl {\r\n  constructor(){\r\n    this.setGetChecks=()=>{}\r\n  }\r\n  setShowFunc(f){\r\n    this.setGetChecks=f\r\n  }\r\n}\r\n\r\nfunction CheckBox(props) {\r\n\r\n  console.log(\"running\")\r\n\r\n  var self = this\r\n\r\n  var [selIndex, setSelIndex] = useState(0)\r\n  var {children} = props\r\n\r\n  var [checked, setChecked] = useState(children)\r\n\r\n  const onChangeInt = (i)=>{\r\n    setSelIndex(i)\r\n  }\r\n\r\n  useEffect(()=>{\r\n    props.ctl.setGetChecks(()=>{\r\n      return checked\r\n    })\r\n  },[])\r\n\r\n  return (\r\n    <div className='checkBox'>\r\n      {\r\n        checked.map((c, i)=>{\r\n          return (\r\n            <div className={`checkItem ${i==selIndex?\"selected\":\"\"}`} onClick={onChangeInt.bind(self, i)}>\r\n              <div onClick={()=>{\r\n                  children[i].checked = !c.checked\r\n                  setChecked(children)\r\n                }}>{c.checked?<i className=\"bi bi-check2-square\"></i>:<i className=\"bi bi-app\"></i>}</div>\r\n              <div className='checkName unsel' >{c.name}</div>\r\n            </div>\r\n          )\r\n        })\r\n      }\r\n    </div>\r\n\r\n  );\r\n}\r\n\r\nexport { CheckBox, CheckBoxCtl };\r\n","import API from '../../../api';\r\nimport './index.css';\r\nimport Modal from '../../../components/modal';\r\nimport {CheckBox, CheckBoxCtl} from '../../../components/checkbox';\r\nimport { useState, useCallback } from 'react';\r\nimport { useLongPress, LongPressDetectEvents } from \"use-long-press\";\r\n\r\nfunction ListItem(props) {\r\n\r\n    var self = this\r\n    let {name, phone, level, parent, events} = props\r\n    var [showOptions, setShowOptions] = useState(false)\r\n\r\n    var checkBoxCtl = new CheckBoxCtl()\r\n\r\n    const markAttendance = ()=>{\r\n        new API().call(\"/attendance/mark\",\r\n          {\r\n            phone: phone,\r\n            attendance: true\r\n          }).then((res)=>{\r\n        })\r\n    }\r\n\r\n    const bind = useLongPress(() => {\r\n      window.navigator.vibrate(100)\r\n      setShowOptions(true)\r\n    });\r\n\r\n\r\n    let list = <i className=\"bi bi-list\"></i>\r\n    let label, clickFunc, longPressFunc\r\n    let parentList = parent?parent.split(\",\"):[]\r\n    let parentLevelAffinity = parentList.indexOf(level)!=-1\r\n    let eventLevelAffinity = !!events.filter((e)=>{return e.id=level}).length\r\n\r\n    switch(parentList.length){\r\n      case 0: // absent\r\n        if(events.length==1){\r\n          label = events[0].parent\r\n        }else{\r\n          if(eventLevelAffinity){\r\n            label = level\r\n          }else{\r\n            label = list\r\n          }\r\n        }\r\n        break;\r\n      case 1: // attended one\r\n        label = parent\r\n        break;\r\n      default: // attended more\r\n        if(parentLevelAffinity){\r\n          label = `${level}+${parentList.length-1}`\r\n        }else{\r\n          label = `${parentList[0]}+${parentList.length-1}`\r\n        }\r\n\r\n    }\r\n\r\n    let backgroundColor = \"grey\"\r\n    if(!!parent){\r\n      backgroundColor = \"#005c4b\"\r\n    }\r\n\r\n    return <div className='atcContact unsel' key={phone}>\r\n    <div className='atcNamePhone'>\r\n      <div className='atcName'>{name}</div>\r\n      <div className='atcPhone'>{phone  }</div>\r\n    </div>\r\n    <div className='atcTick' style={{backgroundColor}} onClick={markAttendance} {...bind()}>{label}</div>\r\n\r\n    {showOptions?\r\n      <Modal onClose={()=>setShowOptions(false)} title=\"Details\">\r\n        <CheckBox ctl={checkBoxCtl}>\r\n          {\r\n            events.map((e)=>{\r\n              return {\r\n                key: e.parent,\r\n                name: e.parent,\r\n                checked: parentList.indexOf(e.parent)!=-1\r\n              }\r\n            })\r\n          }\r\n        </CheckBox>\r\n      </Modal>:null}\r\n  </div>\r\n}\r\n\r\nexport default ListItem","import './index.css';\r\nimport Header from \"../../components/header\"\r\nimport {Tab} from \"../../components/tab\"\r\nimport TitleBar from \"../../components/titleBar\"\r\nimport {PageMenu, PageMenuCtl} from '../../components/pageMenu';\r\nimport { useEffect, useState } from 'react';\r\nimport API from '../../api';\r\nimport { Input } from '../../components/input';\r\nimport moment from 'moment'\r\nimport ListItem from './listItem';\r\n\r\nvar pageMenu = new PageMenuCtl()\r\n\r\nfunction Attendance() {\r\n  var [people, setPeople] = useState([])\r\n  var [peopleList, setPeopleList] = useState([])\r\n\r\n  const getEventsOnDate = (date)=>{\r\n    new API().call(\"/events\",{date}).then((res)=>{\r\n        console.log(res.body)\r\n        setEvents(res.body)\r\n        document.getElementById(\"attendanceDate\").value = moment(res.body[0].date,\"yyyy-MM-DDTHH:mm:ss.000Z\").format('yyyy-MM-DD')\r\n    })\r\n  }\r\n  \r\n  useEffect(()=>{\r\n    // var date = moment().format('yyyy-MM-DD')\r\n    var date = \"2022-01-30\"\r\n    document.getElementById(\"attendanceDate\").value = date\r\n    getEventsOnDate(date)\r\n    new API().call(\"/attendance/people\", {date}).then((res)=>{\r\n        console.log(res)\r\n        setPeople(res.body)\r\n        setPeopleList(res.body)\r\n    })\r\n  },[])\r\n\r\n  var [searchKey, setSearchKey] = useState('')\r\n  var [events, setEvents] = useState([])\r\n\r\n  useEffect(()=>{\r\n    setPeopleList(searchKey?people.filter((p)=>{\r\n      return p.name.toLowerCase().includes(searchKey.toLowerCase())\r\n    }):people)\r\n  },[searchKey])\r\n\r\n  const onContactSearch = (e)=>{\r\n    setSearchKey(e.target.value)\r\n  }\r\n\r\n  const onDateChange=(e)=>{\r\n    // document.getElementById(\"attendanceDate\").value = moment().format('DD-MM-yyyy')\r\n  }\r\n\r\n  var self = this\r\n\r\n  return (\r\n    <div>\r\n      <Header onPageMenuClick={()=>{\r\n        pageMenu.position('.5vw','6.5vh')\r\n        pageMenu.show()\r\n      }}/> \r\n      <PageMenu list={[1,2,3,4]} ctl={pageMenu}/>\r\n      <TitleBar title='Attendance'>\r\n        <Input type=\"date\" id=\"attendanceDate\"/>\r\n      </TitleBar>\r\n\r\n      <Input id=\"attendanceSearch\" placeholder=\"search participant name or phone\" onChange={onContactSearch}/>\r\n      {\r\n        peopleList.map((p)=>{\r\n          return (\r\n            <ListItem name={p.name} phone={p.phone} level={p.level} parent={p.parent} events={events}></ListItem>\r\n          )\r\n        })\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Attendance;\r\n","import './index.css';\r\nimport Header from \"../../components/header\"\r\nimport TitleBar from \"../../components/titleBar\"\r\nimport {SearchBox} from \"../../components/searchBox\"\r\nimport {PageMenu, PageMenuCtl} from '../../components/pageMenu';\r\n\r\nvar pageMenu = new PageMenuCtl()\r\n\r\nfunction Contacts() {\r\n\r\n  return (\r\n    <div>\r\n      <Header onPageMenuClick={()=>{\r\n        pageMenu.position('.5vw','6.5vh')\r\n        pageMenu.show()\r\n      }}/> \r\n      <PageMenu list={[1,2,3,4]} ctl={pageMenu}/>\r\n      <TitleBar title='Contacts'>\r\n      </TitleBar>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Contacts;\r\n","import './App.css';\r\nimport './strings.js'\r\nimport Login from './pages/login';\r\nimport Home from './pages/home';\r\nimport Test from './pages/test';\r\nimport {Route, BrowserRouter as Router, Routes} from \"react-router-dom\"\r\nimport { useEffect } from 'react';\r\nimport NewContact from './pages/newContact';\r\nimport Attendance from './pages/attendance';\r\nimport Contacts from './pages/contacts';\r\n\r\nfunction App() {\r\n\r\n  useEffect(()=>{\r\n    // const addRipple = (event)=>{\r\n    //   const clickable = event.currentTarget\r\n    //   const circle = document.createElement(\"span\")\r\n    //   const diameter = Math.max(clickable.clientWidth, clickable.clientHeight)\r\n    //   const radius = diameter / 2\r\n\r\n    //   circle.style.width = circle.style.height = `${diameter}px`\r\n\r\n    //   circle.style.left = `${(event.clientX-clickable.getBoundingClientRect().x-radius)}px`\r\n    //   circle.style.top = `${(event.clientY-clickable.getBoundingClientRect().y-radius)}px`\r\n\r\n    //   circle.classList.add(\"ripple\")\r\n    //   clickable.appendChild(circle);\r\n    //   setTimeout(()=>{circle.remove()},600)\r\n    // }\r\n\r\n    // const clickables = document.getElementsByClassName('clickable')\r\n    // for (let i = 0; i < clickables.length; i++) {\r\n    //   clickables[i].addEventListener('click', addRipple)\r\n    // }\r\n  })\r\n\r\n  return (\r\n    <div className=\"App\">\r\n    <Router>\r\n        <Routes>\r\n          <Route path=\"/login\" element={<Login />}></Route>\r\n          <Route path=\"/home\" element={<Home />}></Route>\r\n          <Route path=\"/contacts\" element={<Contacts />}></Route>\r\n          <Route path=\"/attendance\" element={<Attendance />}></Route>\r\n          <Route path=\"/contact/:filter\" element={<NewContact ok={2}/>}></Route>\r\n          <Route path=\"/test\" element={<Test />}></Route>\r\n        </Routes>\r\n    </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}