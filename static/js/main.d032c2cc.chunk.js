(this.webpackJsonpmyfolk=this.webpackJsonpmyfolk||[]).push([[0],Array(18).concat([function(e,t,n){},function(e,t,n){},function(e,t){String.prototype.standardizeName=function(){var e=this,t=(e=(e=(e=e.replaceAll("."," ")).replace(/  +/g," ")).trim()).split(" ");if(t.length!=e.replaceAll(" ","").length)for(;1==t[0].length;)t.push(t.shift());return(e=t.join(" ")).toTitleCase()},String.prototype.toCamelCase=function(){return this.toLowerCase().replace(/['"]/g,"").replace(/\W+/g," ").replace(/ (.)/g,(function(e){return e.toUpperCase()})).replace(/ /g,"")},String.prototype.toTitleCase=function(){return this.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))}},function(e,t,n){},function(e,t,n){},,function(e,t,n){},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),s=n(11),o=n.n(s),a=(n(18),n(19),n(20),n(3)),r=(n(21),n(4)),u=n(5),l=(n(22),n(0)),j=function(){function e(){Object(r.a)(this,e),this.show=function(){},this.hide=function(){}}return Object(u.a)(e,[{key:"setShowFunc",value:function(e){this.show=e}},{key:"setHideFunc",value:function(e){this.hide=e}}]),e}();function h(e){var t=Object(c.useState)(e.show),n=Object(a.a)(t,2),i=n[0],s=n[1],o=this;return Object(c.useEffect)((function(){e.ctl.setShowFunc((function(){s.bind(o)(!0)})),e.ctl.setHideFunc((function(){s.bind(o)(!1)}))}),[]),Object(l.jsx)("div",{className:"spinner-bg-circle ".concat(i?"spinner-show":"spinner-hide"),style:{width:"".concat(e.size||20,"px"),height:"".concat(e.size||20,"px")}})}n(24);var b=function(){function e(){Object(r.a)(this,e),this.show=function(){},this.hide=function(){}}return Object(u.a)(e,[{key:"setShowFunc",value:function(e){this.show=e}},{key:"setHideFunc",value:function(e){this.hide=e}}]),e}();function f(e){var t=Object(c.useState)(!!e.show),n=Object(a.a)(t,2),i=n[0],s=n[1],o=Object(c.useState)(e.text||""),r=Object(a.a)(o,2),u=r[0],j=r[1],h=Object(c.useRef)(null),b=this;return Object(c.useEffect)((function(){e.ctl.setShowFunc((function(e){h.current&&clearTimeout(h.current),j.bind(b)(e),s.bind(b)(!0),h.current=setTimeout((function(){s(!1)}),5e3)})),e.ctl.setHideFunc((function(){s.bind(b)(!1)}))}),[]),Object(l.jsx)("div",{className:"toast toast-".concat(i?"show":"hide"),children:u})}var d=n(9),O=n.n(d),p=n(12);var v={set:function e(t,n,c){if("object"===typeof t)for(var i in t)e(i,t[i]);else{var s=new Date;c=c||999,s.setTime(s.getTime()+24*c*60*60*1e3);var o=";expires="+s.toUTCString();document.cookie=t+"="+n+o}},get:function(e){for(var t=e+"=",n=document.cookie.split(";"),c=0;c<n.length;c++){for(var i=n[c];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return""},clear:function(e){e?document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;":document.cookie.split(";").forEach((function(e){document.cookie=e.replace(/^ +/,"").replace(/=.*/,"=;expires="+(new Date).toUTCString()+";path=/")}))}},x=v,m={name:x.get("name"),phone:x.get("phone"),role:x.get("role"),redirect:function(e){var t=x.get("phone");if(e){if(!t)return;window.open(e,"_self")}else{if(t)return;window.open("/?redirect=".concat(window.location.pathname),"_self")}}},g=function(){function e(){Object(r.a)(this,e),this.name=m.name,this.phone=m.phone,this.role=m.role}return Object(u.a)(e,[{key:"call",value:function(){var e=Object(p.a)(O.a.mark((function e(t,n){var c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/data",{method:"POST",headers:{"Content-Type":"application/json",name:this.name,phone:this.phone,role:this.role,endpoint:t},body:JSON.stringify(n||{})});case 2:return c=e.sent,e.abrupt("return",c.json().then((function(e){return{status:c.status,body:e,error:e.error}})));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),w=g,y=n(26),k=new j,C=new b;var N=function(){Object(c.useEffect)((function(){m.redirect("/home")}),[]);var e=Object(c.useState)(!1),t=Object(a.a)(e,2),n=t[0],i=t[1],s=Object(c.useRef)(null),o=Object(c.useRef)(null);return Object(l.jsxs)("div",{id:"login-root",children:[Object(l.jsx)(f,{ctl:C}),Object(l.jsx)("img",{id:"login-logo",src:"logo.png"}),Object(l.jsxs)("form",{id:"login-form",children:[Object(l.jsx)("input",{ref:s,type:"tel",placeholder:"Phone",pattern:"[0-9]{10}"}),Object(l.jsx)("input",{ref:o,type:"password",placeholder:"Password"}),Object(l.jsx)("button",{className:"clickable",disabled:n,onClick:function(e){e.preventDefault(),i(!0),k.show(),(new w).call("/login",{phone:s.current.value,password:y(o.current.value)}).then((function(e){if(k.hide(),i(!1),200==e.status){for(var t in e.body)x.set(t,e.body[t]);window.open("/home","_self")}else C.show(e.error)}))},children:"Login"}),Object(l.jsx)("div",{className:"login-spinner",children:Object(l.jsx)(h,{show:n,size:25,ctl:k})})]})]})},S=(n(29),n(30),function(){function e(){Object(r.a)(this,e),this.show=function(){},this.hide=function(){}}return Object(u.a)(e,[{key:"setShowFunc",value:function(e){this.show=e}},{key:"setHideFunc",value:function(e){this.hide=e}}]),e}());function F(e){var t=e.list,n=e.ctl,i=Object(c.useState)(!1),s=Object(a.a)(i,2),o=s[0],r=s[1],u=this;return Object(c.useEffect)((function(){n.setShowFunc((function(){r.bind(u)(!0)})),n.setHideFunc((function(){r.bind(u)(!1)}))}),[]),Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:"mainMenu",id:o?"show":"hide",children:[Object(l.jsxs)("div",{className:"mainMenuProfile",children:[Object(l.jsx)("div",{className:"mainMenuProfileAvatar",children:x.get("name").charAt(0).toUpperCase()}),Object(l.jsx)("div",{className:"mainMenuProfileName",children:x.get("name")})]}),t.map((function(e){return Object(l.jsx)("div",{className:"mainMenuItem clickable",children:e})}))]}),o?Object(l.jsx)("div",{className:"glass",onClick:function(){r.bind(u)(!1)}}):null]})}n(31);var E=new S;var M=function(e){var t=e.onPageMenuClick;return Object(l.jsxs)("div",{children:[Object(l.jsx)(F,{ctl:E,list:[1,2,3,4]}),Object(l.jsxs)("div",{className:"appHeader",children:[Object(l.jsx)("i",{className:"bi bi-list clickable clickableIcon",id:"slideMenuButton",onClick:function(){E.show()}}),Object(l.jsx)("img",{src:"/logo.png",className:"header_logo"}),Object(l.jsx)("i",{className:"bi bi-three-dots-vertical clickable clickableIcon",id:"menuButton",onClick:t})]})]})},P=(n(32),function(){function e(){Object(r.a)(this,e),this.show=function(){},this.hide=function(){},this.position=function(){}}return Object(u.a)(e,[{key:"setShowFunc",value:function(e){this.show=e}},{key:"setHideFunc",value:function(e){this.hide=e}},{key:"setPositionFunc",value:function(e){this.position=e}}]),e}());function T(e){var t=e.list,n=e.ctl,i=Object(c.useState)(!1),s=Object(a.a)(i,2),o=s[0],r=s[1],u=Object(c.useState)({right:"0px",top:"0px"}),j=Object(a.a)(u,2),h=j[0],b=j[1],f=this;return Object(c.useEffect)((function(){n.setShowFunc((function(){r.bind(f)(!0)})),n.setHideFunc((function(){r.bind(f)(!1)})),n.setPositionFunc((function(e,t){b.bind(f)({right:e,top:t})}))}),[]),Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:"pageMenu",id:o?"show":"hide",style:h||{},children:t.map((function(e){return Object(l.jsx)("div",{className:"pageMenuItem clickable",children:e})}))}),o?Object(l.jsx)("div",{className:"glass",onClick:function(){r.bind(f)(!1)}}):null]})}var L=new P;var B=function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)(M,{onPageMenuClick:function(){L.position(".5vw","6.5vh"),L.show()}}),Object(l.jsx)(T,{list:[1,2,3,4],ctl:L})]})};n(33),n(34);n(35);var H=function(e){var t=e.title,n=e.children;return Object(l.jsxs)("div",{className:"titlebar",children:[Object(l.jsx)("div",{className:"titlebar_title",children:t}),Object(l.jsx)("div",{className:"titlebarChildren",children:n})]})};n(36);function A(e){var t=Object(c.useState)(!1),n=Object(a.a)(t,2),i=n[0],s=n[1],o=Object(c.useRef)(),r=e.onSearch,u=e.style;Object(c.useEffect)((function(){i&&o.current.focus()}),[i]);return Object(l.jsxs)("div",{style:u,children:[Object(l.jsx)("input",{className:"searchField",ref:o,id:i?"show":"hide",onChange:function(){r(o.current.value)}}),i?Object(l.jsx)("i",{className:"searchIcon bi bi-x",onClick:function(){s(!1),o.current.blur(),o.current.value="",r("")}}):Object(l.jsx)("i",{className:"searchIcon bi bi-search",onClick:function(){s(!0)}})]})}var I=new P;var R=function(){var e=Object(c.useState)([]),t=Object(a.a)(e,2),n=t[0],i=t[1],s=Object(c.useState)([]),o=Object(a.a)(s,2),r=o[0],u=o[1];Object(c.useEffect)((function(){(new w).call("/people").then((function(e){i(e.body),u(e.body)}))}),[]);var j=Object(c.useState)(""),h=Object(a.a)(j,2),b=h[0],f=h[1];return Object(c.useEffect)((function(){console.log("search changed",b,n),u(b?n.filter((function(e){return e.name.toLowerCase().includes(b.toLowerCase())})):n)}),[b]),Object(l.jsxs)("div",{children:[Object(l.jsx)(M,{onPageMenuClick:function(){I.position(".5vw","6.5vh"),I.show()}}),Object(l.jsx)(T,{list:[1,2,3,4],ctl:I}),Object(l.jsxs)(H,{title:"People",children:[Object(l.jsx)(A,{onSearch:function(e){f(e)}}),Object(l.jsx)("i",{className:"bi bi-plus",style:{transform:"scale(1.5)"}})]}),r.map((function(e){return Object(l.jsx)("div",{className:"contact",children:e.name})}))]})};n(37),n(38);function U(e){var t=e.children;return Object(l.jsx)("form",{children:t})}n(39);function z(e){var t=e.id,n=e.type,c=e.label,i=e.placeholder,s=e.onBlur,o=e.maxLength;return Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{children:c}),Object(l.jsx)("input",{id:t||c.toCamelCase(),type:n||"text",maxlength:o,placeholder:i,onBlur:s})]})}var D=new P;var _=function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)(M,{onPageMenuClick:function(){D.position(".5vw","6.5vh"),D.show()}}),Object(l.jsx)(T,{list:[1,2,3,4],ctl:D}),Object(l.jsx)(U,{children:Object(l.jsx)(z,{label:"Name"})})]})},J=n(13),W=n(2),X=(n(40),new P);var Y=function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)(M,{onPageMenuClick:function(){X.position(".5vw","6.5vh"),X.show()}}),Object(l.jsxs)(H,{title:"Contact",children:[Object(l.jsx)("i",{className:"bi bi-whatsapp",onClick:function(){var e=document.getElementById("phone").value;window.open("https://wa.me/91".concat(e))}}),Object(l.jsx)("i",{className:"bi bi-download"})]}),Object(l.jsx)(T,{list:[1,2,3,4],ctl:X}),Object(l.jsxs)(U,{children:[Object(l.jsx)(z,{label:"Name",onBlur:function(e){e.target.value=e.target.value.standardizeName()}}),Object(l.jsx)(z,{label:"Phone",type:"tel",maxLength:10}),Object(l.jsx)("button",{type:"submit",maxLength:10,onClick:function(e){e.preventDefault()},children:"Save"})]})]})},q=(n(41),new P);var G=function(){var e=Object(c.useState)([]),t=Object(a.a)(e,2),n=t[0],i=t[1],s=Object(c.useState)([]),o=Object(a.a)(s,2),r=o[0],u=o[1];Object(c.useEffect)((function(){(new w).call("/people").then((function(e){i(e.body),u(e.body)}))}),[]);var j=Object(c.useState)(""),h=Object(a.a)(j,2),b=h[0],f=h[1];return Object(c.useEffect)((function(){console.log("search changed",b,n),u(b?n.filter((function(e){return e.name.toLowerCase().includes(b.toLowerCase())})):n)}),[b]),Object(l.jsxs)("div",{children:[Object(l.jsx)(M,{onPageMenuClick:function(){q.position(".5vw","6.5vh"),q.show()}}),Object(l.jsx)(T,{list:[1,2,3,4],ctl:q}),Object(l.jsx)(H,{title:"Attendance",children:Object(l.jsx)(z,{type:"date",id:"attendanceDate"})}),Object(l.jsx)(A,{onSearch:function(e){f(e)}}),r.map((function(e){return Object(l.jsx)("div",{className:"contact",children:e.name})}))]})};var K=function(){return Object(c.useEffect)((function(){for(var e=function(e){var t=e.currentTarget,n=document.createElement("span"),c=Math.max(t.clientWidth,t.clientHeight),i=c/2;n.style.width=n.style.height="".concat(c,"px"),n.style.left="".concat(e.clientX-t.getBoundingClientRect().x-i,"px"),n.style.top="".concat(e.clientY-t.getBoundingClientRect().y-i,"px"),n.classList.add("ripple"),t.appendChild(n),setTimeout((function(){n.remove()}),600)},t=document.getElementsByClassName("clickable"),n=0;n<t.length;n++)t[n].addEventListener("click",e)})),Object(l.jsx)("div",{className:"App",children:Object(l.jsx)(J.a,{children:Object(l.jsxs)(W.c,{children:[Object(l.jsx)(W.a,{path:"/login",element:Object(l.jsx)(N,{})}),Object(l.jsx)(W.a,{path:"/home",element:Object(l.jsx)(B,{})}),Object(l.jsx)(W.a,{path:"/people",element:Object(l.jsx)(R,{})}),Object(l.jsx)(W.a,{path:"/attendance",element:Object(l.jsx)(G,{})}),Object(l.jsx)(W.a,{path:"/contact/:filter",element:Object(l.jsx)(Y,{ok:2})}),Object(l.jsx)(W.a,{path:"/test",element:Object(l.jsx)(_,{})})]})})})};o.a.render(Object(l.jsx)(i.a.StrictMode,{children:Object(l.jsx)(K,{})}),document.getElementById("root"))}]),[[42,1,2]]]);
//# sourceMappingURL=main.d032c2cc.chunk.js.map